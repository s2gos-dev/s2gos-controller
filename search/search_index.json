{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Overview","text":"<p>The Python control layer for the ESA DTE-S2GOS synthetic scene generator service</p> <p></p> <p>Note, the S2GOS controller project and its documentation are still in an early  development stage.</p>"},{"location":"#project-overview","title":"Project Overview","text":"<p>The Digital Twin Earth Synthetic Scene Generator and Observation Simulator  (DTE-S2GOS) project consists in the development of a new component of the  ESA Destination Earth Initiative  to be implemented in the ESA DestinE Platform  as a pre-operational service. The primary objective of DTE-S2GOS is to develop a  comprehensive and accurate simulation framework that can generate physically  realistic synthetic 3D scenes of the Earth and simulate ground-based or spaceborne  remote sensing observations, among other with the  Eradiate Radiative Transfer Model.</p> <p>The Project</p>"},{"location":"#controller-overview","title":"Controller Overview","text":"<p>This project hosts two Python packages:</p> <ul> <li><code>s2gos-client</code> - CLI, GUI, and API clients that allow for interaction    with the S2GOS scene simulator service.  </li> <li><code>s2gos-server</code> - a FastAPI-based implementation of the    OGC API - Processes that is wrapped around   the S2GOS scene simulator service based on Apache Airflow.</li> </ul> <p>The development of the S2GOS controller paved the way for the development of the more  general Eozilla Suite of tools supporting the  interaction with EO workflow orchestration and processing systems. The S2GOS controller  therefore build on the Eozilla packages  Cuiman,  Wraptile and others.</p> <p>Get Started</p>"},{"location":"client-api/","title":"Client API Reference","text":"<p>The entrypoint of the S2GOS client API is the <code>s2gos_client.Client</code> class that  provides a synchronous API for interacting with the S2GOS processing service. If you want an asynchronous version, use the <code>AsyncClient</code> class instead. It provides the same interface, but using asynchronous server calls.</p> <p>Both clients return their configuration as a <code>s2gos_client.ClientConfig</code> object.</p> <p>Methods of the <code>s2gos_client.Client</code> and <code>s2gos_client.AsyncClient</code>  may raise a <code>s2gos_client.ClientError</code> if a server call fails. </p> <p>The S2GOS client API is a thin wrapper around the  Eozilla Client API  called Cuiman.</p>"},{"location":"client-cli/","title":"Client CLI Reference","text":"<p><code>s2gos-client</code> is the client shell tool for the S2GOS service.</p> <p>The tool can be used to get the available processes, get process details, execute processes, and manage the jobs originating from the latter.  It herewith resembles the functionality of the OGC API Processes - Part 1.</p> <p>You can use shorter command name aliases, e.g., use command name <code>vr</code> for <code>validate-request</code>, or <code>lp</code> for <code>list-processes</code>.</p> <p>The tool's exit codes are as follows:</p> <ul> <li><code>0</code> - normal exit</li> <li><code>1</code> - user errors, argument errors</li> <li><code>2</code> - remote API errors </li> <li><code>3</code> - local network transport errors</li> </ul> <p>If the --traceback flag is set, the original Python exception traceback will be shown and the exit code will always be <code>1</code>.  Otherwise, only the error message is shown.</p> <p>Usage:</p> <pre><code>$ s2gos-client [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--version</code>: Show version and exit.</li> <li><code>--traceback, --tb</code>: Show server exception traceback, if any.</li> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>configure</code>: Configure the client tool.</li> <li><code>list-processes</code>: List available processes.</li> <li><code>get-process</code>: Get process details.</li> <li><code>create-request</code>: Create an execution request (template) for...</li> <li><code>validate-request</code>: Validate a process execution request.</li> <li><code>execute-process</code>: Execute a process in asynchronous mode.</li> <li><code>list-jobs</code>: List all jobs.</li> <li><code>get-job</code>: Get job details.</li> <li><code>dismiss-job</code>: Cancel a running or delete a finished job.</li> <li><code>get-job-results</code>: Get job results.</li> </ul>"},{"location":"client-cli/#s2gos-client-configure","title":"<code>s2gos-client configure</code>","text":"<p>Configure the client tool.</p> <p>Usage:</p> <pre><code>$ s2gos-client configure [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>-u, --user TEXT</code>: Your user name.</li> <li><code>-t, --token TEXT</code>: Your personal access token.</li> <li><code>-s, --server TEXT</code>: The S2GOS service API URL.</li> <li><code>-c, --config PATH</code>: Client configuration file.</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"client-cli/#s2gos-client-list-processes","title":"<code>s2gos-client list-processes</code>","text":"<p>List available processes.</p> <p>Usage:</p> <pre><code>$ s2gos-client list-processes [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>-c, --config PATH</code>: Client configuration file.</li> <li><code>-f, --format [simple|json|yaml]</code>: Output format.  [default: yaml]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"client-cli/#s2gos-client-get-process","title":"<code>s2gos-client get-process</code>","text":"<p>Get process details.</p> <p>Usage:</p> <pre><code>$ s2gos-client get-process [OPTIONS] PROCESS_ID\n</code></pre> <p>Arguments:</p> <ul> <li><code>PROCESS_ID</code>: Process identifier.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>-c, --config PATH</code>: Client configuration file.</li> <li><code>-f, --format [simple|json|yaml]</code>: Output format.  [default: yaml]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"client-cli/#s2gos-client-create-request","title":"<code>s2gos-client create-request</code>","text":"<p>Create an execution request (template) for a given process.</p> <p>The generated template comprises generated default values for all inputs. Note that they might not necessarily be valid. The generated template request may serve as a starting point for the actual, valid execution request.</p> <p>Usage:</p> <pre><code>$ s2gos-client create-request [OPTIONS] [PROCESS_ID]\n</code></pre> <p>Arguments:</p> <ul> <li><code>[PROCESS_ID]</code>: Process identifier.</li> </ul> <p>Options:</p> <ul> <li><code>-d, --dotpath</code>: Input names use dot-path notion to encode nested values, e.g., <code>-i scene.colors.bg=red</code>.</li> <li><code>-c, --config PATH</code>: Client configuration file.</li> <li><code>-f, --format [simple|json|yaml]</code>: Output format.  [default: yaml]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"client-cli/#s2gos-client-validate-request","title":"<code>s2gos-client validate-request</code>","text":"<p>Validate a process execution request.</p> <p>The execution request to be validated may be read from a file given by <code>--request</code>, or from <code>stdin</code>, or from the <code>process_id</code> argument with zero, one, or more <code>--input</code> (or <code>-i</code>) options.</p> <p>The <code>process_id</code> argument and any given <code>--input</code> options will override settings with the same name found in the given request file or <code>stdin</code>, if any.</p> <p>Usage:</p> <pre><code>$ s2gos-client validate-request [OPTIONS] [PROCESS_ID]\n</code></pre> <p>Arguments:</p> <ul> <li><code>[PROCESS_ID]</code>: Process identifier.</li> </ul> <p>Options:</p> <ul> <li><code>-d, --dotpath</code>: Input names use dot-path notion to encode nested values, e.g., <code>-i scene.colors.bg=red</code>.</li> <li><code>-i, --input [NAME=VALUE]...</code>: Process input value.</li> <li><code>-r, --request PATH</code>: Execution request file. Use <code>-</code> to read from &lt;stdin&gt;.</li> <li><code>-f, --format [simple|json|yaml]</code>: Output format.  [default: yaml]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"client-cli/#s2gos-client-execute-process","title":"<code>s2gos-client execute-process</code>","text":"<p>Execute a process in asynchronous mode.</p> <p>The execution request to be submitted may be read from a file given by <code>--request</code>, or from <code>stdin</code>, or from the <code>process_id</code> argument with zero, one, or more <code>--input</code> (or <code>-i</code>) options.</p> <p>The <code>process_id</code> argument and any given <code>--input</code> options will override settings with same name found in the given request file or <code>stdin</code>, if any.</p> <p>Usage:</p> <pre><code>$ s2gos-client execute-process [OPTIONS] [PROCESS_ID]\n</code></pre> <p>Arguments:</p> <ul> <li><code>[PROCESS_ID]</code>: Process identifier.</li> </ul> <p>Options:</p> <ul> <li><code>-d, --dotpath</code>: Input names use dot-path notion to encode nested values, e.g., <code>-i scene.colors.bg=red</code>.</li> <li><code>-i, --input [NAME=VALUE]...</code>: Process input value.</li> <li><code>-s, --subscriber [NAME=URL]...</code>: Process subscriber URL.</li> <li><code>-r, --request PATH</code>: Execution request file. Use <code>-</code> to read from &lt;stdin&gt;.</li> <li><code>-c, --config PATH</code>: Client configuration file.</li> <li><code>-f, --format [simple|json|yaml]</code>: Output format.  [default: yaml]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"client-cli/#s2gos-client-list-jobs","title":"<code>s2gos-client list-jobs</code>","text":"<p>List all jobs.</p> <p>Usage:</p> <pre><code>$ s2gos-client list-jobs [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>-c, --config PATH</code>: Client configuration file.</li> <li><code>-f, --format [simple|json|yaml]</code>: Output format.  [default: yaml]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"client-cli/#s2gos-client-get-job","title":"<code>s2gos-client get-job</code>","text":"<p>Get job details.</p> <p>Usage:</p> <pre><code>$ s2gos-client get-job [OPTIONS] JOB_ID\n</code></pre> <p>Arguments:</p> <ul> <li><code>JOB_ID</code>: Job identifier.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>-c, --config PATH</code>: Client configuration file.</li> <li><code>-f, --format [simple|json|yaml]</code>: Output format.  [default: yaml]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"client-cli/#s2gos-client-dismiss-job","title":"<code>s2gos-client dismiss-job</code>","text":"<p>Cancel a running or delete a finished job.</p> <p>Usage:</p> <pre><code>$ s2gos-client dismiss-job [OPTIONS] JOB_ID\n</code></pre> <p>Arguments:</p> <ul> <li><code>JOB_ID</code>: Job identifier.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>-c, --config PATH</code>: Client configuration file.</li> <li><code>-f, --format [simple|json|yaml]</code>: Output format.  [default: yaml]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"client-cli/#s2gos-client-get-job-results","title":"<code>s2gos-client get-job-results</code>","text":"<p>Get job results.</p> <p>Usage:</p> <pre><code>$ s2gos-client get-job-results [OPTIONS] JOB_ID\n</code></pre> <p>Arguments:</p> <ul> <li><code>JOB_ID</code>: Job identifier.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>-c, --config PATH</code>: Client configuration file.</li> <li><code>-f, --format [simple|json|yaml]</code>: Output format.  [default: yaml]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"contributing/","title":"Contributing to the project","text":""},{"location":"contributing/#changelog","title":"Changelog","text":"<p>You can find the complete changelog  here. </p>"},{"location":"contributing/#reporting","title":"Reporting","text":"<p>If you have suggestions, ideas, feature requests, or if you have identified a malfunction or error, then please  post an issue. </p>"},{"location":"contributing/#contributions","title":"Contributions","text":"<p>The S2GOS client project welcomes contributions of any form as long as you  respect our  code of conduct and follow our  contribution guide.</p> <p>If you'd like to submit code or documentation changes, we ask you to provide a  pull request (PR)  here.  For code and configuration changes, your PR must be linked to a  corresponding issue. </p>"},{"location":"contributing/#development","title":"Development","text":""},{"location":"contributing/#setup","title":"Setup","text":"<p>Before you start, make sure you have pixi installed.</p> <p>Checkout sources</p> <pre><code>git clone https://github.com/s2gos-dev/s2gos-controller.git\ncd ./s2gos-controller\n</code></pre> <p>Create a new Python environment and activate it:</p> <pre><code>pixi install \npixi shell\n</code></pre>"},{"location":"contributing/#running-the-s2gos-controller-tools","title":"Running the S2GOS controller tools","text":"<p>Run local test server</p> <pre><code>s2gos-server run -- s2gos_server.services.local.testing:service\n</code></pre> <p>The dev mode is useful if you are changing server code:</p> <pre><code>s2gos-server dev s2gos_server.services.local.testing:service\n</code></pre> <p>Run client API</p> <pre><code>from s2gos_client import Client\n\nclient = Client()\nclient.get_processes()\nclient.get_jobs()\n</code></pre> <p>Run client GUI (in Jupyter notebooks)</p> <pre><code>from s2gos_client.gui import Client\n\nclient = Client()\nclient.show()\nclient.show_jobs()\n</code></pre> <p>Run client CLI</p> <pre><code>$ s2gos-client --help\n</code></pre>"},{"location":"contributing/#formatting-linting","title":"Formatting &amp; Linting","text":"<pre><code>pixi run isort .\npixi run ruff format \npixi run ruff check\n</code></pre>"},{"location":"contributing/#testing-coverage","title":"Testing &amp; Coverage","text":"<pre><code>pixi run test\npixi run coverage\n</code></pre>"},{"location":"contributing/#version-syncing","title":"Version syncing","text":"<p>Before a release increase version number in root <code>pyproject.toml</code> then synchronize versions in workspaces <code>tools/pyproject.toml</code> using </p> <pre><code>pixi run sync-versions\n</code></pre>"},{"location":"contributing/#code-generation","title":"Code generation","text":"<p>Some code is generated (see respective file headers) from an OpenAPI specification in <code>tools/openapi.yaml</code>.  If this file is changed, code need to be regenerated: </p> <pre><code>pixi run generate\n</code></pre> <p>This will generate S2GOS'</p> <ul> <li>pydantic models in <code>s2gos-common/src/s2gos_common/models.py</code>  (uses datamodel-code-generator)</li> <li>client implementation in <code>s2gos-client/src/s2gos_client/client.py</code> and CLI documentation <code>docs/cli.md</code></li> <li>server routes in <code>s2gos-server/src/s2gos_server/routes.py</code> and the    service interface in <code>s2gos-server/src/s2gos_server/service.py</code></li> </ul>"},{"location":"contributing/#documentation","title":"Documentation","text":"<p>The S2GOS client's documentation is built using the  mkdocs tool.</p> <p>With repository root as current working directory:</p> <pre><code>mkdocs build\nmkdocs serve\nmkdocs gh-deploy\n</code></pre> <p>After changing the CLI code, always update its documentation <code>docs/cli.md</code>  by running</p> <pre><code>pixi run gen-client\n</code></pre>"},{"location":"contributing/#license","title":"License","text":"<p>The S2GOS client is open source made available under the terms and conditions of the  Apache 2.0 license.</p>"},{"location":"deployment/","title":"DevOps Tools \u2013 High-Level Overview","text":"<p>To deliver and operate the S2GOS service efficiently, we apply modern DevOps practices. These ensure that software is built, tested, and deployed in a reliable, repeatable,  and secure way. The main tools can be grouped as follows: </p> <ol> <li> <p>Infrastructure &amp; Deployment </p> </li> <li> <p><code>Kubernetes</code> \u2013 the platform on which all services run. It allows applications     to scale automatically, restart when needed, and be isolated for reliability. </p> </li> <li> <p><code>Helm</code> \u2013 a package manager for Kubernetes. It makes deploying complex applications  much simpler and ensures they can be installed the same way across different  environments. </p> </li> <li> <p><code>Terraform</code> \u2013 used to set up the underlying cloud resources (servers, storage,  networks). It guarantees that infrastructure is defined in code, so it can be    reproduced, audited, and updated consistently.</p> </li> <li> <p>Continuous Integration &amp; Delivery (CI/CD) </p> </li> <li> <p><code>GitHub Actions</code> \u2013 automates testing and building of the software whenever code  changes are made. This reduces errors and speeds up development. </p> </li> <li> <p><code>ArgoCD</code> \u2013 ensures that what is defined in the project repositories is always  reflected in the running system. It continuously monitors and synchronizes deployments,  reducing manual intervention.</p> </li> <li> <p>Monitoring and Observability </p> </li> <li> <p><code>Prometheus and Grafana</code> \u2013 provide live insights into the system\u2019s health and  performance (e.g., resource usage, response times). This allows early detection of  issues and helps optimize resources. </p> </li> <li> <p><code>Jaeger</code> \u2013 used for tracing requests across services, which helps diagnose problems  and improve efficiency of workflows. </p> </li> <li> <p>Security and Access</p> </li> <li> <p><code>Keycloak</code> \u2013 a central system for user authentication and authorisation.     It enables single sign-on and ensures that only authorised users can access services.</p> </li> <li> <p><code>Sealed Secrets</code> - allows us to store passwords and keys safely in Kubernetes without    exposing them in plain text.</p> </li> </ol>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#using-pip","title":"Using pip","text":"<p>The S2GOS controller packages are not yet deployed on PyPI, therefore installing it as a package using <code>pip</code> is not yet available. </p>"},{"location":"installation/#using-condamamba","title":"Using conda/mamba","text":"<p>The S2GOS controller packages are not yet deployed on conda-forge, therefore installing it using as a conda package using <code>conda</code> or <code>mamba</code> is not yet available. </p>"},{"location":"installation/#using-pixi","title":"Using pixi","text":"<p>The S2GOS controller packages are not yet deployed on conda-forge, therefore installing it as a conda package using <code>pixi</code> is not yet available. </p>"},{"location":"installation/#using-github","title":"Using GitHub","text":"<p>To install the S2GOS controller packages from their sources on GitHub you'll  need to install both git and  pixi first. Then:</p> <pre><code>git clone https://github.com/eo-tools/sen4cap-client.git\ncd s2gos-controller\npixi install\npixi shell\n</code></pre> <p>The installed development environment includes also JupyterLab so the recommended way to get started is to take a look at the notebooks in the <code>notebooks</code> folder.</p> <pre><code>cd notebooks\njupyter-lab\n</code></pre>"},{"location":"installation/#getting-started","title":"Getting started","text":"<p>After installing the S2GOS controller packages in your Python environment and activating it (conda/mamba: <code>conda activate &lt;your-env&gt;</code>, pixi: <code>pixi shell</code>) make sure the respective command-line tools are accessible: Type</p> <pre><code>s2gos-server --help\n</code></pre> <p>and </p> <pre><code>s2gos-client --help\n</code></pre> <p>to get an overview of the available commands and options. </p> <p>You can then run the S2GOS server with one of the development services or use the deployed server. To run the development service with a local process executor run</p> <pre><code>s2gos-server dev -- wraptile.services.local:service\n</code></pre> <p>To run the S2GOS gateway server with a local Airflow instance (assuming the local Airflow webserver runs on http://localhost:8080):</p> <pre><code>s2gos-server dev -- wraptile.services.airflow:service --airflow-password=abcd1234\n</code></pre> <p>The next step is configure the client, which will also serve as default configuration  for the client's Python API and its GUI:</p> <pre><code>s2gos-client configure\n</code></pre> <p>Test:</p> <pre><code>s2gos-client list-processes\n</code></pre>"},{"location":"installation/#development","title":"Development","text":"<p>Install the S2GOS controller packages as described in  Installation / Using GitHub above.</p>"},{"location":"installation/#linting-and-testing","title":"Linting and Testing","text":"<p>To run all checks, execute</p> <pre><code>pixi run checks\n</code></pre> <p>To run all tests, execute</p> <pre><code>pixi run tests\n</code></pre> <p>To generate a coverage report, execute</p> <pre><code>pixi run coverage\n</code></pre>"},{"location":"installation/#implementing-enhancements","title":"Implementing Enhancements","text":"<p>The S2GOS controller code relies heavily on the  Eozilla packages </p> <ul> <li>wraptile,   which provides the gateway server implementation, </li> <li>cuiman,   which provides the client CLI, GUI, and API implementations, and </li> <li>gavicore   which provides common OGC model classes and basic utilities.  </li> </ul> <p>Should S2GOS controller require non-S2GOS-specific enhancements it  would likely be best to implement the required changes in the respective  Eozilla packages. For this, check out the Eozilla sources directly next  to this project's sources to achieve this folder structure:</p> <pre><code>    &lt;projects&gt;/\n    \u251c\u2500\u2500 s2gos-controller/\n    \u2502   \u251c\u2500\u2500 s2gos-client/\n    \u2502   \u251c\u2500\u2500 s2gos-server/\n    \u2502   \u2514\u2500\u2500 ...\n    \u2514\u2500\u2500 eozilla/\n        \u251c\u2500\u2500 appligator/\n        \u251c\u2500\u2500 cuiman/\n        \u251c\u2500\u2500 gavicore/\n        \u251c\u2500\u2500 procodile/\n        \u251c\u2500\u2500 wraptile/\n        \u2514\u2500\u2500 ...\n</code></pre> <p>For development, change the root <code>pyproject.toml</code> file as follows</p> <ol> <li> <p>Comment out the dependencies <code>cuiman</code>, <code>gavicore</code>, etc. in the     <code>[tool.pixi.dependencies]</code> table.</p> </li> <li> <p>Uncomment the editable PyPI dependencies for <code>cuiman</code>, <code>gavicore</code>, etc. in     the <code>[tool.pixi.pypi-dependencies]</code> table.</p> </li> </ol> <p>The run</p> <pre><code>pixi i\n</code></pre> <p>to make the changes effective. Check with </p> <pre><code>pixi ls\n</code></pre> <p>which should now list the Eozilla packages as editable.</p>"},{"location":"request-format/","title":"Execution request format","text":"<p>TODO</p>"},{"location":"roadmap/","title":"S2GOS Controller Roadmap","text":"<p>Given here are the features and issues that are worked on and will be addressed next.</p>"},{"location":"roadmap/#doing","title":"Doing","text":""},{"location":"roadmap/#general-design","title":"General design","text":"<ul> <li>Clarify data i/o, formats, and protocols (also check OGC spec):<ul> <li>user files --&gt; scene generator --&gt; OBJ</li> <li>OBJ --&gt; scene simulator --&gt; Zarr </li> </ul> </li> </ul>"},{"location":"roadmap/#airflow-service","title":"Airflow Service","text":"<ul> <li>Test the Airflow-based service that connects to the Airflow web API</li> <li>Generate DAGs for containerized processes in Docker</li> <li>Generate DAGs for containerized processes in K8s</li> </ul>"},{"location":"roadmap/#next","title":"Next","text":""},{"location":"roadmap/#gui-client","title":"GUI Client","text":"<ul> <li>\u274c Bug in <code>show()</code> with bbox. To reproduce with local service   select process <code>simulate_scene</code>: if no bbox selected,    client receives an error. </li> </ul>"},{"location":"roadmap/#authentication","title":"Authentication","text":"<ul> <li>Implement basic authentication using OAuth2 from FastAPI,    use user_name/access_token from ClientConfig in<ul> <li>client </li> <li>server</li> </ul> </li> </ul>"},{"location":"roadmap/#authorisation","title":"Authorisation","text":"<ul> <li>Define roles &amp; scopes</li> <li>Implement accordingly in<ul> <li>client </li> <li>server</li> </ul> </li> </ul>"},{"location":"roadmap/#backlog","title":"Backlog","text":""},{"location":"roadmap/#code-generation","title":"Code generation","text":"<p>The output of <code>generators/gen_models</code> is not satisfying: </p> <ul> <li>Consider code generation from templates with <code>jinja2</code></li> <li>Use openapi-pydantic<ul> <li>Use <code>openapi_pydantic.Schema</code>, <code>openapi_pydantic.Reference</code>, etc. in generated code</li> <li>Use <code>openapi_pydantic.OpenAPI</code> for representing <code>s2gos/common/openapi.yaml</code> in    the generators</li> </ul> </li> </ul>"},{"location":"roadmap/#local-and-airflow-service","title":"Local and Airflow Service","text":"<ul> <li>Path <code>/</code>:<ul> <li>Also provide a HTML version, support mimetype <code>text/html</code></li> </ul> </li> </ul>"},{"location":"roadmap/#enhance-the-gui-client","title":"Enhance the GUI Client","text":"<ul> <li>Use the async API client version in the GUI Client.   <code>panel</code> widget handler that use the client can and should be async.</li> <li><code>show()</code> - show the main form where users can select a process    and submit process requests with inputs and outputs<ul> <li>Actions</li> <li>open request <ul> <li>save request </li> <li>save-as request</li> <li>show success/failure</li> </ul> </li> <li>optional enhancements<ul> <li>integrate job status panel</li> <li>show request as JSON</li> </ul> </li> </ul> </li> <li><code>show_jobs()</code> - show all jobs in a table and provide actions on job selection: <ul> <li>Actions:<ul> <li>\u267b\ufe0f\ufe0f restart dismissed/failed job(s)</li> </ul> </li> </ul> </li> <li><code>show_processes()</code> - get a nicely rendered overview of all processes </li> <li><code>show_process(process_id: str = None, job_id: str = None, editable: bool = True)</code></li> </ul>"},{"location":"roadmap/#done","title":"Done","text":""},{"location":"roadmap/#repopackage-setup","title":"Repo/package setup","text":"<ul> <li>DONE Setup CI with <code>pixi</code><ul> <li>DONE pixi run sync-versions</li> <li>DONE pixi run generate</li> <li>DONE pixi run coverage</li> </ul> </li> <li>DONE Move all source code into <code>src</code> folder.</li> <li>DONE Use either <code>uv</code> or <code>pixi</code> for package and environment management. &lt;-- We use <code>pixi</code></li> <li>DONE: We need three main packages in the end to avoid naming clashes:<ul> <li><code>s2gos_client</code> (now <code>s2gos.client</code>)</li> <li><code>s2gos_common</code> (now <code>s2gos.common.models</code>)</li> <li><code>s2gos_server</code> (now <code>s2gos.server</code>)</li> </ul> </li> <li>DONE: Find out and decide how to setup GitHub repo(s) for this<ul> <li>One repository with all three packages in <code>src</code></li> <li>One repository with three subdirectories  &lt;-- This is the one!</li> <li>Three repositories </li> </ul> </li> <li>DONE: Align <code>ruff</code> settings with other S2GOS repos.</li> </ul>"},{"location":"roadmap/#general-design_1","title":"General design","text":"<ul> <li>DOING: We need two API client versions: sync and async<ul> <li>DONE: Generate <code>AsyncClient</code>, next to <code>Client</code> </li> <li>DONE: Generate them using <code>httpx</code>, which    should replace currently used <code>requests</code></li> </ul> </li> </ul>"},{"location":"roadmap/#processor-containerization","title":"Processor Containerization","text":"<ul> <li>Develop a simple processor development framework that<ul> <li>DONE: provides a CLI to query and execute processes   </li> <li>DONE: supports registration of processes from python functions  </li> <li>DONE: supports progress reporting by subscriber callback URLs </li> </ul> </li> </ul>"},{"location":"roadmap/#implement-cli-commands","title":"Implement CLI commands","text":"<ul> <li>DONE: <code>list-processes</code></li> <li>DONE: <code>get-process process_id</code></li> <li>DONE: <code>list-jobs</code></li> <li>DONE: <code>get-job job_id</code></li> <li>DONE: <code>dismiss-job job_id</code></li> <li>DONE: <code>get-job-results job_id --output &lt;path&gt;</code> </li> </ul>"},{"location":"roadmap/#enhance-the-gui-client_1","title":"Enhance the GUI Client","text":"<ul> <li><code>show()</code> - show the main form where users can select a process    and submit process requests with inputs and outputs</li> <li>DONE: select process<ul> <li>DONE: render input widgets</li> <li>DONE: submit request</li> <li>Actions<ul> <li>DONE: execute request </li> <li>DONE: get request </li> </ul> </li> </ul> </li> <li><code>show_jobs()</code> - show all jobs in a table and provide actions on job selection: <ul> <li>DONE: use <code>Tabulator</code></li> <li>DONE Add an action row with actions applicable to the current table selection</li> <li>Actions:<ul> <li>DONE: cancel accepted/running job(s)</li> </ul> </li> <li>DONE: delete successful/dismissed/failed job(s)</li> <li>DONE: get job result(s)</li> </ul> </li> <li><code>show_job(job_id: str)</code> - show a dedicated job</li> </ul>"},{"location":"roadmap/#local-service","title":"Local service","text":"<ul> <li>DONE: Implement local service that can invoke any Python function</li> <li>Endpoint path <code>/</code>:</li> <li>DONE: The landing page provides links to the:<ul> <li>DONE: The APIDefinition (no fixed path),</li> <li>DONE: The Conformance statements (path <code>/conformance</code>),</li> <li>DONE: The processes metadata (path <code>/processes</code>),</li> <li>DONE: The endpoint for job monitoring (path <code>/jobs</code>).</li> </ul> </li> <li>DONE: Links should be absolute URL, hence we need <code>request: Request</code> as 1st function arg</li> </ul>"},{"location":"roadmap/#airflow-service_1","title":"Airflow Service","text":"<ul> <li>DONE: Implement Airflow gateway service using the Airflow API</li> </ul>"},{"location":"roadmap/#error-handling","title":"Error handling","text":"<ul> <li>DONE: Include server traceback on internal server errors with 500 status</li> <li>DONE: We currently have only little error management in client.    Handle ClientError so users understand what went wrong:</li> <li>DONE: Python API</li> <li>DONE: CLI</li> <li>DONE: GUI</li> </ul>"},{"location":"roadmap/#code-generation_1","title":"Code generation","text":"<p>Because the output of <code>generators/gen_models</code> is not satisfying: </p> <ul> <li>DONE: Many generated classes are <code>RootModels</code> which are inconvenient for users, e.g.,   <code>Input</code> requires passing values with <code>root</code> attributes.</li> <li>DONE: Basic openAPI constructs like <code>Schema</code> or <code>Reference</code> should not be   generated but reused from predefined <code>BaseModel</code>s.</li> <li>DONE: JSON generated from models is too verbose. Avoid including <code>None</code> fields and    fields that have default values.</li> <li>DONE: Generated class names like <code>Exception</code> clash with predefined Python names.</li> <li>DONE: Some generated class names are rather unintuitive, e.g.,     <code>Execute</code> instead of <code>Request</code>.</li> <li>DONE: Adjust <code>s2gos/common/openapi.yaml</code> to fix the above and/or</li> <li>DONE: Configure <code>datamodel-code-generator</code> to fix the above and/or</li> </ul>"},{"location":"hooks/notebooks_json_output/","title":"Notebooks json output","text":"In\u00a0[\u00a0]: Copied! <pre>import html\nimport json\nimport shutil\nfrom pathlib import Path\n</pre> import html import json import shutil from pathlib import Path In\u00a0[\u00a0]: Copied! <pre>import nbformat as nbf\n</pre> import nbformat as nbf In\u00a0[\u00a0]: Copied! <pre>def on_pre_build(config):\n    \"\"\"\n    Runs the updates once before the build of the documentation\n\n    References:\n    - mkdocs hooks: https://www.mkdocs.org/user-guide/configuration/?#hooks\n    - mkdocs events: https://www.mkdocs.org/dev-guide/plugins/#on_pre_build\n\n    Args:\n     - config: global MkDocsConfig Object\n    \"\"\"\n    source = Path.cwd() / \"notebooks\"\n    destination = Path.cwd() / \"docs/notebooks\"\n\n    _update_files_in_docs(source, destination)\n    print(f\"[hooks] Updated notebooks: {source} to {destination}\")\n\n    for ipynb in destination.rglob(\"*.ipynb\"):\n        if _patch_notebook(ipynb):\n            print(f\"[hooks] Patched: {ipynb}\")\n</pre> def on_pre_build(config):     \"\"\"     Runs the updates once before the build of the documentation      References:     - mkdocs hooks: https://www.mkdocs.org/user-guide/configuration/?#hooks     - mkdocs events: https://www.mkdocs.org/dev-guide/plugins/#on_pre_build      Args:      - config: global MkDocsConfig Object     \"\"\"     source = Path.cwd() / \"notebooks\"     destination = Path.cwd() / \"docs/notebooks\"      _update_files_in_docs(source, destination)     print(f\"[hooks] Updated notebooks: {source} to {destination}\")      for ipynb in destination.rglob(\"*.ipynb\"):         if _patch_notebook(ipynb):             print(f\"[hooks] Patched: {ipynb}\") In\u00a0[\u00a0]: Copied! <pre>def _patch_notebook(path: Path):\n    \"\"\"\n    Changes the output type of Jupyter notebook cells from\n    `json/application` to `text/html` to make the output readable\n    in mkdocs documentation\n\n    Args:\n        - path: Path to notebooks in docs/\n\n    Returns:\n        - boolean indicator to report if notebook patching was done\n    \"\"\"\n    nb = nbf.read(path, as_version=4)\n    changed = False\n    for cell in nb.cells:\n        for out in cell.get(\"outputs\", []):\n            data = out.get(\"data\", {})\n            if isinstance(data, dict) and \"application/json\" in data:\n                pretty = html.escape(json.dumps(data[\"application/json\"],\n                                                indent=2,\n                                                ensure_ascii=False))\n                data[\"text/html\"] = f\"&lt;pre&gt;&lt;code class='text-json'&gt;{pretty}&lt;/code&gt;&lt;/pre&gt;\"\n                changed = True\n    if changed:\n        nbf.write(nb, path)\n    return changed\n</pre> def _patch_notebook(path: Path):     \"\"\"     Changes the output type of Jupyter notebook cells from     `json/application` to `text/html` to make the output readable     in mkdocs documentation      Args:         - path: Path to notebooks in docs/      Returns:         - boolean indicator to report if notebook patching was done     \"\"\"     nb = nbf.read(path, as_version=4)     changed = False     for cell in nb.cells:         for out in cell.get(\"outputs\", []):             data = out.get(\"data\", {})             if isinstance(data, dict) and \"application/json\" in data:                 pretty = html.escape(json.dumps(data[\"application/json\"],                                                 indent=2,                                                 ensure_ascii=False))                 data[\"text/html\"] = f\"<pre><code>{pretty}</code></pre>\"                 changed = True     if changed:         nbf.write(nb, path)     return changed In\u00a0[\u00a0]: Copied! <pre>def _update_files_in_docs(source: Path, destination: Path):\n    \"\"\"\n    Adds notebooks to docs/notebooks\n\n    Args:\n        - source: Path to original notebooks\n        - destination: Path to copy original notebooks to prepare for and add to\n        mkdocs documentation\n    \"\"\"\n    shutil.copytree(source, destination, dirs_exist_ok=True)\n</pre> def _update_files_in_docs(source: Path, destination: Path):     \"\"\"     Adds notebooks to docs/notebooks      Args:         - source: Path to original notebooks         - destination: Path to copy original notebooks to prepare for and add to         mkdocs documentation     \"\"\"     shutil.copytree(source, destination, dirs_exist_ok=True)"},{"location":"notebooks/","title":"Index","text":"<p>Into this folder the notebooks from s2gos-controller/notebooks will be copied for the generation of the documentation. This happens on each build with the help of the mkdocs hook <code>docs/hooks/notebooks_json_output.py</code>.</p>"},{"location":"notebooks/client-api-airflow/","title":"Airflow","text":"In\u00a0[1]: Copied! <pre>from s2gos_client import Client\nfrom s2gos_common.models import ProcessRequest\n</pre> from s2gos_client import Client from s2gos_common.models import ProcessRequest In\u00a0[2]: Copied! <pre>client = Client(server_url=\"http://127.0.0.1:8008\")\nclient\n</pre> client = Client(server_url=\"http://127.0.0.1:8008\") client Out[2]: <pre><code>{\n  \"access_token\": null,\n  \"server_url\": \"http://127.0.0.1:8008\",\n  \"user_name\": null\n}</code></pre> In\u00a0[3]: Copied! <pre>client.get_capabilities()\n</pre> client.get_capabilities() Out[3]: <pre><code>{\n  \"description\": \"A gateway API compliant with OGC API - Processes that uses an Airflow backend.\",\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_capabilities\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/openapi.json\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"openapi\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/docs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"swagger_ui_html\",\n      \"type\": \"text/html\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/docs/oauth2-redirect\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"swagger_ui_redirect\",\n      \"type\": \"text/html\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/redoc\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"redoc_html\",\n      \"type\": \"text/html\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_capabilities\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/conformance\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_conformance\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/processes\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_processes\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/processes/{processID}\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_process\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/processes/{processID}/execution\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"execute_process\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_jobs\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs/{jobId}\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_job\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs/{jobId}\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"dismiss_job\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs/{jobId}/results\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_job_results\",\n      \"type\": \"application/json\"\n    }\n  ],\n  \"title\": \"Airflow Service\"\n}</code></pre> In\u00a0[4]: Copied! <pre>client.get_conformance()\n</pre> client.get_conformance() Out[4]: <pre><code>{\n  \"conformsTo\": [\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/core\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/ogc-process-description\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/json\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/oas30\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/job-list\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/dismiss\"\n  ]\n}</code></pre> In\u00a0[5]: Copied! <pre>client.get_processes()\n</pre> client.get_processes() Out[5]: <pre><code>{\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/processes\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_processes\",\n      \"type\": \"application/json\"\n    }\n  ],\n  \"processes\": [\n    {\n      \"description\": \"Returns the list of prime numbers between a `min_val` and `max_val`. \",\n      \"id\": \"primes_between\",\n      \"title\": \"Prime Processor\",\n      \"version\": \"0.0.0\"\n    },\n    {\n      \"id\": \"return_base_model\",\n      \"title\": \"BaseModel Test\",\n      \"version\": \"0.0.0\"\n    },\n    {\n      \"description\": \"Simulate a set scene images slices for testing. Creates an xarray dataset with `periodicity` time slices and writes it as Zarr into a temporary location. Requires installed `dask`, `xarray`, and `zarr` packages.\",\n      \"id\": \"simulate_scene\",\n      \"title\": \"Generate scene for testing\",\n      \"version\": \"0.0.0\"\n    },\n    {\n      \"description\": \"Sleeps for `duration` seconds. Fails on purpose if `fail` is `True`. Returns the effective amount of sleep in seconds.\",\n      \"id\": \"sleep_a_while\",\n      \"title\": \"Sleep Processor\",\n      \"version\": \"0.0.0\"\n    }\n  ]\n}</code></pre> In\u00a0[6]: Copied! <pre>client.get_process(process_id=\"sleep_a_while\")\n</pre> client.get_process(process_id=\"sleep_a_while\") Out[6]: <pre><code>{\n  \"description\": \"Sleeps for `duration` seconds. Fails on purpose if `fail` is `True`. Returns the effective amount of sleep in seconds.\",\n  \"id\": \"sleep_a_while\",\n  \"inputs\": {},\n  \"outputs\": {},\n  \"title\": \"Sleep Processor\",\n  \"version\": \"0.0.0\"\n}</code></pre> In\u00a0[7]: Copied! <pre>client.get_jobs()\n</pre> client.get_jobs() Out[7]: <pre><code>{\n  \"jobs\": [\n    {\n      \"created\": \"2025-07-15T11:12:09.501829Z\",\n      \"finished\": \"2025-07-15T11:12:13.599646Z\",\n      \"jobID\": \"manual__2025-07-15T11:12:09.473432+00:00\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-07-15T11:12:09.689505Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-07-15T11:12:13.592815Z\"\n    },\n    {\n      \"created\": \"2025-09-09T13:31:19.770932Z\",\n      \"finished\": \"2025-09-09T13:31:24.008108Z\",\n      \"jobID\": \"primes_between__20250909133119_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T13:31:20.451716Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T13:31:24.003845Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:00:46.601700Z\",\n      \"finished\": \"2025-09-09T14:00:49.218611Z\",\n      \"jobID\": \"primes_between__20250909140046_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T14:00:47.320271Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:00:49.212736Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:08:20.775729Z\",\n      \"finished\": \"2025-09-09T14:08:23.296110Z\",\n      \"jobID\": \"primes_between__20250909140820_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T14:08:22.043965Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:08:23.292599Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:12:53.830201Z\",\n      \"finished\": \"2025-09-09T14:12:55.669104Z\",\n      \"jobID\": \"primes_between__20250909141253_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T14:12:54.336515Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:12:55.662957Z\"\n    },\n    {\n      \"created\": \"2025-07-15T12:43:21.762728Z\",\n      \"finished\": \"2025-07-15T12:44:15.335494Z\",\n      \"jobID\": \"manual__2025-07-15T12:43:21.705839+00:00\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-07-15T12:43:23.054525Z\",\n      \"status\": \"failed\",\n      \"type\": \"process\",\n      \"updated\": \"2025-07-15T12:44:15.329219Z\"\n    },\n    {\n      \"created\": \"2025-09-09T13:31:22.836061Z\",\n      \"finished\": \"2025-09-09T13:31:35.360842Z\",\n      \"jobID\": \"sleep_a_while__20250909133121_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T13:31:23.950645Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T13:31:35.356595Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:00:46.708624Z\",\n      \"finished\": \"2025-09-09T14:00:59.371320Z\",\n      \"jobID\": \"sleep_a_while__20250909140046_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T14:00:47.325045Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:00:59.367748Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:08:20.863568Z\",\n      \"finished\": \"2025-09-09T14:08:32.877437Z\",\n      \"jobID\": \"sleep_a_while__20250909140820_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T14:08:22.045075Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:08:32.873613Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:12:53.960935Z\",\n      \"finished\": \"2025-09-09T14:13:07.991002Z\",\n      \"jobID\": \"sleep_a_while__20250909141253_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T14:12:54.338449Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:13:07.986703Z\"\n    }\n  ],\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_jobs\",\n      \"type\": \"application/json\"\n    }\n  ]\n}</code></pre> In\u00a0[8]: Copied! <pre>client.execute_process(process_id=\"primes_between\", request=ProcessRequest())\n</pre> client.execute_process(process_id=\"primes_between\", request=ProcessRequest()) Out[8]: <pre><code>{\n  \"created\": \"2025-09-09T14:27:49.355547Z\",\n  \"jobID\": \"primes_between__20250909142749_1\",\n  \"processID\": \"primes_between\",\n  \"status\": \"accepted\",\n  \"type\": \"process\"\n}</code></pre> In\u00a0[9]: Copied! <pre>client.execute_process(process_id=\"sleep_a_while\", request=ProcessRequest())\n</pre> client.execute_process(process_id=\"sleep_a_while\", request=ProcessRequest()) Out[9]: <pre><code>{\n  \"created\": \"2025-09-09T14:27:49.520012Z\",\n  \"jobID\": \"sleep_a_while__20250909142749_2\",\n  \"processID\": \"sleep_a_while\",\n  \"status\": \"accepted\",\n  \"type\": \"process\"\n}</code></pre> In\u00a0[10]: Copied! <pre>client.get_jobs()\n</pre> client.get_jobs() Out[10]: <pre><code>{\n  \"jobs\": [\n    {\n      \"created\": \"2025-07-15T11:12:09.501829Z\",\n      \"finished\": \"2025-07-15T11:12:13.599646Z\",\n      \"jobID\": \"manual__2025-07-15T11:12:09.473432+00:00\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-07-15T11:12:09.689505Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-07-15T11:12:13.592815Z\"\n    },\n    {\n      \"created\": \"2025-09-09T13:31:19.770932Z\",\n      \"finished\": \"2025-09-09T13:31:24.008108Z\",\n      \"jobID\": \"primes_between__20250909133119_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T13:31:20.451716Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T13:31:24.003845Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:00:46.601700Z\",\n      \"finished\": \"2025-09-09T14:00:49.218611Z\",\n      \"jobID\": \"primes_between__20250909140046_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T14:00:47.320271Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:00:49.212736Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:08:20.775729Z\",\n      \"finished\": \"2025-09-09T14:08:23.296110Z\",\n      \"jobID\": \"primes_between__20250909140820_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T14:08:22.043965Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:08:23.292599Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:12:53.830201Z\",\n      \"finished\": \"2025-09-09T14:12:55.669104Z\",\n      \"jobID\": \"primes_between__20250909141253_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T14:12:54.336515Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:12:55.662957Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:27:49.355547Z\",\n      \"jobID\": \"primes_between__20250909142749_1\",\n      \"processID\": \"primes_between\",\n      \"status\": \"accepted\",\n      \"type\": \"process\"\n    },\n    {\n      \"created\": \"2025-07-15T12:43:21.762728Z\",\n      \"finished\": \"2025-07-15T12:44:15.335494Z\",\n      \"jobID\": \"manual__2025-07-15T12:43:21.705839+00:00\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-07-15T12:43:23.054525Z\",\n      \"status\": \"failed\",\n      \"type\": \"process\",\n      \"updated\": \"2025-07-15T12:44:15.329219Z\"\n    },\n    {\n      \"created\": \"2025-09-09T13:31:22.836061Z\",\n      \"finished\": \"2025-09-09T13:31:35.360842Z\",\n      \"jobID\": \"sleep_a_while__20250909133121_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T13:31:23.950645Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T13:31:35.356595Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:00:46.708624Z\",\n      \"finished\": \"2025-09-09T14:00:59.371320Z\",\n      \"jobID\": \"sleep_a_while__20250909140046_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T14:00:47.325045Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:00:59.367748Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:08:20.863568Z\",\n      \"finished\": \"2025-09-09T14:08:32.877437Z\",\n      \"jobID\": \"sleep_a_while__20250909140820_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T14:08:22.045075Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:08:32.873613Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:12:53.960935Z\",\n      \"finished\": \"2025-09-09T14:13:07.991002Z\",\n      \"jobID\": \"sleep_a_while__20250909141253_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T14:12:54.338449Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:13:07.986703Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:27:49.520012Z\",\n      \"jobID\": \"sleep_a_while__20250909142749_2\",\n      \"processID\": \"sleep_a_while\",\n      \"status\": \"accepted\",\n      \"type\": \"process\"\n    }\n  ],\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_jobs\",\n      \"type\": \"application/json\"\n    }\n  ]\n}</code></pre> In\u00a0[11]: Copied! <pre>client.get_job_results(\"sleep_a_while__20250909140046_2\")\n</pre> client.get_job_results(\"sleep_a_while__20250909140046_2\") Out[11]: <pre><code>{\n  \"return_value\": 10.069934606552124\n}</code></pre> In\u00a0[15]: Copied! <pre>client.get_job_results(\"primes_between__20250909142749_1\")\n</pre> client.get_job_results(\"primes_between__20250909142749_1\") Out[15]: <pre><code>{\n  \"return_value\": [\n    2,\n    3,\n    5,\n    7,\n    11,\n    13,\n    17,\n    19,\n    23,\n    29,\n    31,\n    37,\n    41,\n    43,\n    47,\n    53,\n    59,\n    61,\n    67,\n    71,\n    73,\n    79,\n    83,\n    89,\n    97\n  ]\n}</code></pre> In\u00a0[12]: Copied! <pre># for job in client.get_jobs().jobs:\n#     client.dismiss_job(job.jobID)\n</pre> # for job in client.get_jobs().jobs: #     client.dismiss_job(job.jobID) In\u00a0[13]: Copied! <pre>client.get_jobs()\n</pre> client.get_jobs() Out[13]: <pre><code>{\n  \"jobs\": [\n    {\n      \"created\": \"2025-07-15T11:12:09.501829Z\",\n      \"finished\": \"2025-07-15T11:12:13.599646Z\",\n      \"jobID\": \"manual__2025-07-15T11:12:09.473432+00:00\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-07-15T11:12:09.689505Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-07-15T11:12:13.592815Z\"\n    },\n    {\n      \"created\": \"2025-09-09T13:31:19.770932Z\",\n      \"finished\": \"2025-09-09T13:31:24.008108Z\",\n      \"jobID\": \"primes_between__20250909133119_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T13:31:20.451716Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T13:31:24.003845Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:00:46.601700Z\",\n      \"finished\": \"2025-09-09T14:00:49.218611Z\",\n      \"jobID\": \"primes_between__20250909140046_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T14:00:47.320271Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:00:49.212736Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:08:20.775729Z\",\n      \"finished\": \"2025-09-09T14:08:23.296110Z\",\n      \"jobID\": \"primes_between__20250909140820_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T14:08:22.043965Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:08:23.292599Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:12:53.830201Z\",\n      \"finished\": \"2025-09-09T14:12:55.669104Z\",\n      \"jobID\": \"primes_between__20250909141253_1\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-09-09T14:12:54.336515Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:12:55.662957Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:27:49.355547Z\",\n      \"jobID\": \"primes_between__20250909142749_1\",\n      \"processID\": \"primes_between\",\n      \"status\": \"accepted\",\n      \"type\": \"process\"\n    },\n    {\n      \"created\": \"2025-07-15T12:43:21.762728Z\",\n      \"finished\": \"2025-07-15T12:44:15.335494Z\",\n      \"jobID\": \"manual__2025-07-15T12:43:21.705839+00:00\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-07-15T12:43:23.054525Z\",\n      \"status\": \"failed\",\n      \"type\": \"process\",\n      \"updated\": \"2025-07-15T12:44:15.329219Z\"\n    },\n    {\n      \"created\": \"2025-09-09T13:31:22.836061Z\",\n      \"finished\": \"2025-09-09T13:31:35.360842Z\",\n      \"jobID\": \"sleep_a_while__20250909133121_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T13:31:23.950645Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T13:31:35.356595Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:00:46.708624Z\",\n      \"finished\": \"2025-09-09T14:00:59.371320Z\",\n      \"jobID\": \"sleep_a_while__20250909140046_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T14:00:47.325045Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:00:59.367748Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:08:20.863568Z\",\n      \"finished\": \"2025-09-09T14:08:32.877437Z\",\n      \"jobID\": \"sleep_a_while__20250909140820_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T14:08:22.045075Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:08:32.873613Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:12:53.960935Z\",\n      \"finished\": \"2025-09-09T14:13:07.991002Z\",\n      \"jobID\": \"sleep_a_while__20250909141253_2\",\n      \"processID\": \"sleep_a_while\",\n      \"started\": \"2025-09-09T14:12:54.338449Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-09-09T14:13:07.986703Z\"\n    },\n    {\n      \"created\": \"2025-09-09T14:27:49.520012Z\",\n      \"jobID\": \"sleep_a_while__20250909142749_2\",\n      \"processID\": \"sleep_a_while\",\n      \"status\": \"accepted\",\n      \"type\": \"process\"\n    }\n  ],\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_jobs\",\n      \"type\": \"application/json\"\n    }\n  ]\n}</code></pre> In\u00a0[14]: Copied! <pre>client.get_job(\"primes_between__20250909133119_1\")\n</pre> client.get_job(\"primes_between__20250909133119_1\") Out[14]: <pre><code>{\n  \"created\": \"2025-09-09T13:31:19.770932Z\",\n  \"finished\": \"2025-09-09T13:31:24.008108Z\",\n  \"jobID\": \"primes_between__20250909133119_1\",\n  \"processID\": \"primes_between\",\n  \"started\": \"2025-09-09T13:31:20.451716Z\",\n  \"status\": \"successful\",\n  \"type\": \"process\",\n  \"updated\": \"2025-09-09T13:31:24.003845Z\"\n}</code></pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"notebooks/client-api-airflow/#airflow","title":"Airflow\u00b6","text":"<p>This section demonstrates the use of Apache Airflow as backend.</p> <p>Start by running a local Airflow instance with some generated test DAGs:</p> <pre><code>commandline\ncd s2gos-airflow\npixi install\npixi run airflow standalone\n</code></pre> <p>Then run the S2GOS gateway server with the local Airflow instance (assuming the local Airflow webserver runs on http://localhost:8080):</p> <pre><code>commandline\npixi shell\ns2gos-server run -- wraptile.services.airflow:service --airflow-password=a8e7f4bb230\n</code></pre> <p>Get the airflow user password from <code>s2gos-airflow/.airflow/simple_auth_manager_passwords.json.generated</code>.</p>"},{"location":"notebooks/client-api/","title":"Python API usage","text":"In\u00a0[1]: Copied! <pre>from s2gos_client import Client\nfrom gavicore.models import ProcessRequest\n</pre> from s2gos_client import Client from gavicore.models import ProcessRequest In\u00a0[2]: Copied! <pre>client = Client()\nclient\n</pre> client = Client() client Out[2]: <pre><code>{\n  \"access_token\": \"ip245\",\n  \"server_url\": \"http://127.0.0.1:8008\",\n  \"user_name\": \"bibo\"\n}</code></pre> In\u00a0[3]: Copied! <pre>client.get_capabilities()\n</pre> client.get_capabilities() Out[3]: <pre><code>{\n  \"description\": \"Local test server implementing the OGC API - Processes 1.0 Standard\",\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_capabilities\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/openapi.json\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"openapi\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/docs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"swagger_ui_html\",\n      \"type\": \"text/html\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/docs/oauth2-redirect\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"swagger_ui_redirect\",\n      \"type\": \"text/html\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/redoc\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"redoc_html\",\n      \"type\": \"text/html\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_capabilities\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/conformance\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_conformance\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/processes\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_processes\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/processes/{processID}\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_process\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/processes/{processID}/execution\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"execute_process\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_jobs\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs/{jobId}\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_job\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs/{jobId}\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"dismiss_job\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs/{jobId}/results\",\n      \"hreflang\": \"en\",\n      \"rel\": \"service\",\n      \"title\": \"get_job_results\",\n      \"type\": \"application/json\"\n    }\n  ],\n  \"title\": \"Eozilla API Server (local dummy for testing)\"\n}</code></pre> In\u00a0[4]: Copied! <pre>client.get_conformance()\n</pre> client.get_conformance() Out[4]: <pre><code>{\n  \"conformsTo\": [\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/core\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/ogc-process-description\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/json\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/oas30\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/job-list\",\n    \"http://www.opengis.net/spec/ogcapi-processes-1/1.0/conf/dismiss\"\n  ]\n}</code></pre> In\u00a0[5]: Copied! <pre>client.get_processes()\n</pre> client.get_processes() Out[5]: <pre><code>{\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/processes\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_processes\",\n      \"type\": \"application/json\"\n    }\n  ],\n  \"processes\": [\n    {\n      \"description\": \"Sleeps for `duration` seconds. Fails on purpose if `fail` is `True`. Returns the effective amount of sleep in seconds.\",\n      \"id\": \"sleep_a_while\",\n      \"title\": \"Sleep Processor\",\n      \"version\": \"0.0.0\"\n    },\n    {\n      \"description\": \"Returns the list of prime numbers between a `min_val` and `max_val`.\",\n      \"id\": \"primes_between\",\n      \"title\": \"Prime Processor\",\n      \"version\": \"0.0.0\"\n    },\n    {\n      \"description\": \"Simulate a set scene images slices for testing. Creates an xarray dataset with `periodicity` time slices and writes it as Zarr into a temporary location. Requires installed `dask`, `xarray`, and `zarr` packages.\",\n      \"id\": \"simulate_scene\",\n      \"title\": \"Generate scene for testing\",\n      \"version\": \"0.0.0\"\n    },\n    {\n      \"id\": \"return_base_model\",\n      \"title\": \"BaseModel Test\",\n      \"version\": \"0.0.0\"\n    }\n  ]\n}</code></pre> In\u00a0[6]: Copied! <pre>client.get_process(process_id=\"sleep_a_while\")\n</pre> client.get_process(process_id=\"sleep_a_while\") Out[6]: <pre><code>{\n  \"description\": \"Sleeps for `duration` seconds. Fails on purpose if `fail` is `True`. Returns the effective amount of sleep in seconds.\",\n  \"id\": \"sleep_a_while\",\n  \"inputs\": {\n    \"duration\": {\n      \"minOccurs\": 0,\n      \"schema\": {\n        \"default\": 10,\n        \"type\": \"number\"\n      },\n      \"title\": \"Duration\"\n    },\n    \"fail\": {\n      \"minOccurs\": 0,\n      \"schema\": {\n        \"default\": false,\n        \"type\": \"boolean\"\n      },\n      \"title\": \"Fail\"\n    }\n  },\n  \"outputs\": {\n    \"return_value\": {\n      \"schema\": {\n        \"type\": \"number\"\n      },\n      \"title\": \"Return Value\"\n    }\n  },\n  \"title\": \"Sleep Processor\",\n  \"version\": \"0.0.0\"\n}</code></pre> In\u00a0[7]: Copied! <pre>client.get_jobs()\n</pre> client.get_jobs() Out[7]: <pre><code>{\n  \"jobs\": [],\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_jobs\",\n      \"type\": \"application/json\"\n    }\n  ]\n}</code></pre> In\u00a0[8]: Copied! <pre>client.execute_process(process_id=\"sleep_a_while\", request=ProcessRequest(duration=2))\n</pre> client.execute_process(process_id=\"sleep_a_while\", request=ProcessRequest(duration=2)) Out[8]: <pre><code>{\n  \"created\": \"2025-11-10T14:58:35.373594Z\",\n  \"jobID\": \"job_0\",\n  \"processID\": \"sleep_a_while\",\n  \"progress\": 0,\n  \"started\": \"2025-11-10T14:58:35.374333Z\",\n  \"status\": \"running\",\n  \"type\": \"process\",\n  \"updated\": \"2025-11-10T14:58:35.374437Z\"\n}</code></pre> In\u00a0[9]: Copied! <pre>client.execute_process(process_id=\"sleep_a_while\", request={\"fail\": True})\n</pre> client.execute_process(process_id=\"sleep_a_while\", request={\"fail\": True}) Out[9]: <pre><code>{\n  \"created\": \"2025-11-10T14:58:35.383115Z\",\n  \"jobID\": \"job_1\",\n  \"processID\": \"sleep_a_while\",\n  \"progress\": 0,\n  \"started\": \"2025-11-10T14:58:35.383514Z\",\n  \"status\": \"running\",\n  \"type\": \"process\",\n  \"updated\": \"2025-11-10T14:58:35.383554Z\"\n}</code></pre> In\u00a0[10]: Copied! <pre>client.execute_process(process_id=\"primes_between\", request={})\n</pre> client.execute_process(process_id=\"primes_between\", request={}) Out[10]: <pre><code>{\n  \"created\": \"2025-11-10T14:58:35.395356Z\",\n  \"finished\": \"2025-11-10T14:58:35.395876Z\",\n  \"jobID\": \"job_2\",\n  \"message\": \"Done\",\n  \"processID\": \"primes_between\",\n  \"started\": \"2025-11-10T14:58:35.395738Z\",\n  \"status\": \"successful\",\n  \"type\": \"process\",\n  \"updated\": \"2025-11-10T14:58:35.395847Z\"\n}</code></pre> In\u00a0[11]: Copied! <pre>client.get_jobs()\n</pre> client.get_jobs() Out[11]: <pre><code>{\n  \"jobs\": [\n    {\n      \"created\": \"2025-11-10T14:58:35.373594Z\",\n      \"jobID\": \"job_0\",\n      \"processID\": \"sleep_a_while\",\n      \"progress\": 0,\n      \"started\": \"2025-11-10T14:58:35.374333Z\",\n      \"status\": \"running\",\n      \"type\": \"process\",\n      \"updated\": \"2025-11-10T14:58:35.374437Z\"\n    },\n    {\n      \"created\": \"2025-11-10T14:58:35.383115Z\",\n      \"jobID\": \"job_1\",\n      \"processID\": \"sleep_a_while\",\n      \"progress\": 0,\n      \"started\": \"2025-11-10T14:58:35.383514Z\",\n      \"status\": \"running\",\n      \"type\": \"process\",\n      \"updated\": \"2025-11-10T14:58:35.383554Z\"\n    },\n    {\n      \"created\": \"2025-11-10T14:58:35.395356Z\",\n      \"finished\": \"2025-11-10T14:58:35.395876Z\",\n      \"jobID\": \"job_2\",\n      \"message\": \"Done\",\n      \"processID\": \"primes_between\",\n      \"started\": \"2025-11-10T14:58:35.395738Z\",\n      \"status\": \"successful\",\n      \"type\": \"process\",\n      \"updated\": \"2025-11-10T14:58:35.395847Z\"\n    }\n  ],\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_jobs\",\n      \"type\": \"application/json\"\n    }\n  ]\n}</code></pre> In\u00a0[12]: Copied! <pre>client.get_job(\"job_2\")\n</pre> client.get_job(\"job_2\") Out[12]: <pre><code>{\n  \"created\": \"2025-11-10T14:58:35.395356Z\",\n  \"finished\": \"2025-11-10T14:58:35.395876Z\",\n  \"jobID\": \"job_2\",\n  \"message\": \"Done\",\n  \"processID\": \"primes_between\",\n  \"started\": \"2025-11-10T14:58:35.395738Z\",\n  \"status\": \"successful\",\n  \"type\": \"process\",\n  \"updated\": \"2025-11-10T14:58:35.395847Z\"\n}</code></pre> In\u00a0[13]: Copied! <pre># client.get_job_results(\"job_1\")\n</pre> # client.get_job_results(\"job_1\") In\u00a0[14]: Copied! <pre>for job in client.get_jobs().jobs:\n    client.dismiss_job(job.jobID)\n</pre> for job in client.get_jobs().jobs:     client.dismiss_job(job.jobID) In\u00a0[15]: Copied! <pre>client.get_jobs()\n</pre> client.get_jobs() Out[15]: <pre><code>{\n  \"jobs\": [\n    {\n      \"created\": \"2025-11-10T14:58:35.373594Z\",\n      \"jobID\": \"job_0\",\n      \"processID\": \"sleep_a_while\",\n      \"progress\": 0,\n      \"started\": \"2025-11-10T14:58:35.374333Z\",\n      \"status\": \"running\",\n      \"type\": \"process\",\n      \"updated\": \"2025-11-10T14:58:35.374437Z\"\n    },\n    {\n      \"created\": \"2025-11-10T14:58:35.383115Z\",\n      \"jobID\": \"job_1\",\n      \"processID\": \"sleep_a_while\",\n      \"progress\": 0,\n      \"started\": \"2025-11-10T14:58:35.383514Z\",\n      \"status\": \"running\",\n      \"type\": \"process\",\n      \"updated\": \"2025-11-10T14:58:35.383554Z\"\n    }\n  ],\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/jobs\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_jobs\",\n      \"type\": \"application/json\"\n    }\n  ]\n}</code></pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"notebooks/client-api/#python-api-usage","title":"Python API usage\u00b6","text":"<p>The Python API client allows for</p> <ul> <li><code>client.get_processes()</code>: listing existing processes,</li> <li><code>client.get_process()</code>: get the details about a process,</li> <li><code>client.execute_process()</code>: executing a given process execution request,</li> <li><code>client.get_jobs()</code>: observing the jobs resulting from a process execution,</li> <li><code>client.get_job()</code>: getting a job's details,</li> <li><code>client.get_job_result()</code>: getting a job's result, and finally</li> <li><code>client.dismiss_job()</code>: cancelling a job.</li> </ul> <p>In the following, we visit all the features by example.</p> <p>The client expects a running server that conforms to the OGC API - Process: Part 1, Version 1.0. If you don't have one available, you can also run the project's server with a test configuration:</p> <pre>s2gos-server run -- wraptile.services.local.testing:service\n</pre>"},{"location":"notebooks/client-cli/","title":"CLI usage","text":"In\u00a0[1]: Copied! <pre>!s2gos-client --help\n</pre> !s2gos-client --help <pre>                                                                               \n Usage: s2gos-client [OPTIONS] COMMAND [ARGS]...                               \n                                                                               \n Interact with the ESA DTE S2GOS processing service.                           \n                                                                               \n `s2gos-client` can be used to get the available processes, get process        \n details, execute processes, and manage the jobs originating from the latter.  \n It                                                                            \n herewith resembles the core functionality of the OGC API - Processes, Part 1. \n For details see https://ogcapi.ogc.org/processes/.                            \n                                                                               \n You can use shorter command name aliases, e.g., use command name `vr`         \n for `validate-request`, or `lp` for `list-processes`.                         \n                                                                               \n The tool's exit codes are as follows:                                         \n                                                                               \n * `0` - normal exit                                                           \n * `1` - user errors, argument errors                                          \n * `2` - remote API errors                                                     \n * `3` - local network transport errors                                        \n                                                                               \n If the `--traceback` flag is set, the original Python exception traceback     \n will be shown and the exit code will always be `1`.                           \n Otherwise, only the error message is shown.                                   \n                                                                               \n+- Options -------------------------------------------------------------------+\n| --version                     Show version and exit.                        |\n| --traceback,--tb              Show server exception traceback, if any.      |\n| --install-completion          Install completion for the current shell.     |\n| --show-completion             Show completion for the current shell, to     |\n|                               copy it or customize the installation.        |\n| --help                        Show this message and exit.                   |\n+-----------------------------------------------------------------------------+\n+- Commands ------------------------------------------------------------------+\n| configure          Configure the client tool.                               |\n| list-processes     List available processes.                                |\n| get-process        Get process details.                                     |\n| create-request     Create an execution request (template) for a given       |\n|                    process.                                                 |\n| validate-request   Validate a process execution request.                    |\n| execute-process    Execute a process in asynchronous mode.                  |\n| list-jobs          List all jobs.                                           |\n| get-job            Get job details.                                         |\n| dismiss-job        Cancel a running or delete a finished job.               |\n| get-job-results    Get job results.                                         |\n+-----------------------------------------------------------------------------+\n\n</pre> In\u00a0[2]: Copied! <pre>!s2gos-client configure -s http://127.0.0.1:8008 -u bibo -t 1234\n</pre> !s2gos-client configure -s http://127.0.0.1:8008 -u bibo -t 1234 <pre>Client configuration written to C:\\Users\\Norman\\.eozilla\\config\n</pre> In\u00a0[3]: Copied! <pre>!s2gos-client list-processes\n</pre> !s2gos-client list-processes <pre>links:\n- href: http://127.0.0.1:8008/processes\n  hreflang: en\n  rel: self\n  title: get_processes\n  type: application/json\nprocesses:\n- description: Sleeps for `duration` seconds. Fails on purpose if `fail` is `True`.\n    Returns the effective amount of sleep in seconds.\n  id: sleep_a_while\n  title: Sleep Processor\n  version: 0.0.0\n- description: Returns the list of prime numbers between a `min_val` and `max_val`.\n  id: primes_between\n  title: Prime Processor\n  version: 0.0.0\n- description: Simulate a set scene images slices for testing. Creates an xarray dataset\n    with `periodicity` time slices and writes it as Zarr into a temporary location.\n    Requires installed `dask`, `xarray`, and `zarr` packages.\n  id: simulate_scene\n  title: Generate scene for testing\n  version: 0.0.0\n- id: return_base_model\n  title: BaseModel Test\n  version: 0.0.0\n\n</pre> In\u00a0[4]: Copied! <pre>!s2gos-client get-process primes_between\n</pre> !s2gos-client get-process primes_between <pre>description: Returns the list of prime numbers between a `min_val` and `max_val`.\nid: primes_between\ninputs:\n  max_val:\n    minOccurs: 0\n    schema:\n      default: 100\n      maximum: 100.0\n      type: integer\n    title: Max Val\n  min_val:\n    minOccurs: 0\n    schema:\n      default: 0\n      minimum: 0.0\n      type: integer\n    title: Min Val\noutputs:\n  return_value:\n    schema:\n      items:\n        type: integer\n      type: array\n    title: Return Value\ntitle: Prime Processor\nversion: 0.0.0\n\n</pre> In\u00a0[5]: Copied! <pre>!s2gos-client execute-process primes_between -i min_val=10 -i max_val=80\n</pre> !s2gos-client execute-process primes_between -i min_val=10 -i max_val=80 <pre>created: '2025-11-10T14:59:01.075900Z'\njobID: job_2\nprocessID: primes_between\nstatus: accepted\ntype: process\n\n</pre> In\u00a0[6]: Copied! <pre>!s2gos-client list-jobs \n</pre> !s2gos-client list-jobs  <pre>jobs:\n- created: '2025-11-10T14:58:35.373594Z'\n  finished: '2025-11-10T14:58:35.474882Z'\n  jobID: job_0\n  processID: sleep_a_while\n  progress: 0\n  started: '2025-11-10T14:58:35.374333Z'\n  status: dismissed\n  type: process\n  updated: '2025-11-10T14:58:35.374437Z'\n- created: '2025-11-10T14:58:35.383115Z'\n  finished: '2025-11-10T14:58:35.483986Z'\n  jobID: job_1\n  processID: sleep_a_while\n  progress: 0\n  started: '2025-11-10T14:58:35.383514Z'\n  status: dismissed\n  type: process\n  updated: '2025-11-10T14:58:35.383554Z'\n- created: '2025-11-10T14:59:01.075900Z'\n  finished: '2025-11-10T14:59:01.076461Z'\n  jobID: job_2\n  message: Done\n  processID: primes_between\n  started: '2025-11-10T14:59:01.076390Z'\n  status: successful\n  type: process\n  updated: '2025-11-10T14:59:01.076449Z'\nlinks:\n- href: http://127.0.0.1:8008/jobs\n  hreflang: en\n  rel: self\n  title: get_jobs\n  type: application/json\n\n</pre> In\u00a0[7]: Copied! <pre>!s2gos-client get-job job_0\n</pre> !s2gos-client get-job job_0 <pre>created: '2025-11-10T14:58:35.373594Z'\nfinished: '2025-11-10T14:58:35.474882Z'\njobID: job_0\nprocessID: sleep_a_while\nprogress: 0\nstarted: '2025-11-10T14:58:35.374333Z'\nstatus: dismissed\ntype: process\nupdated: '2025-11-10T14:58:35.374437Z'\n\n</pre> In\u00a0[8]: Copied! <pre>!s2gos-client get-job-results job_0\n</pre> !s2gos-client get-job-results job_0 <pre>+--------------------- Traceback (most recent call last) ---------------------+\n| C:\\Users\\Norman\\Projects\\eozilla\\cuiman\\src\\cuiman\\api\\transport\\httpx.py:7 |\n| 8 in _process_response                                                      |\n|                                                                             |\n|   75                 ),                                                     |\n|   76             ) from e                                                   |\n|   77         try:                                                           |\n| &gt; 78             response.raise_for_status()                                |\n|   79             return args.get_response_for_status(response.status_code,  |\n|   80         except httpx.HTTPError as e:                                   |\n|   81             raise args.get_exception_for_status(                       |\n|                                                                             |\n| +-------------------------------- locals ---------------------------------+ |\n| |          args = TransportArgs(                                          | |\n| |                     path='/jobs/{jobId}/results',                       | |\n| |                     method='get',                                       | |\n| |                     path_params={'jobId': 'job_0'},                     | |\n| |                     query_params={},                                    | |\n| |                     request=None,                                       | |\n| |                     return_types={                                      | |\n| |                         '200': &lt;class 'gavicore.models.JobResults'&gt;     | |\n| |                     },                                                  | |\n| |                     error_types={                                       | |\n| |                         '404': &lt;class 'gavicore.models.ApiError'&gt;,      | |\n| |                         '500': &lt;class 'gavicore.models.ApiError'&gt;       | |\n| |                     },                                                  | |\n| |                     extra_kwargs={}                                     | |\n| |                 )                                                       | |\n| |      response = &lt;Response [403 Forbidden]&gt;                              | |\n| | response_json = {                                                       | |\n| |                     'type': 'ApiError',                                 | |\n| |                     'title': 'Forbidden',                               | |\n| |                     'status': 403,                                      | |\n| |                     'detail': \"Job 'job_0' has been cancelled\"          | |\n| |                 }                                                       | |\n| |          self = &lt;cuiman.api.transport.httpx.HttpxTransport object at    | |\n| |                 0x00000216E15DDFD0&gt;                                     | |\n| +-------------------------------------------------------------------------+ |\n|                                                                             |\n| C:\\Users\\Norman\\Projects\\s2gos-controller\\.pixi\\envs\\default\\Lib\\site-packa |\n| ges\\httpx\\_models.py:829 in raise_for_status                                |\n|                                                                             |\n|    826         }                                                            |\n|    827         error_type = error_types.get(status_class, \"Invalid status c |\n|    828         message = message.format(self, error_type=error_type)        |\n| &gt;  829         raise HTTPStatusError(message, request=request, response=sel |\n|    830                                                                      |\n|    831     def json(self, **kwargs: typing.Any) -&gt; typing.Any:              |\n|    832         return jsonlib.loads(self.content, **kwargs)                 |\n|                                                                             |\n| +-------------------------------- locals ---------------------------------+ |\n| |   error_type = 'Client error'                                           | |\n| |  error_types = {                                                        | |\n| |                    1: 'Informational response',                         | |\n| |                    3: 'Redirect response',                              | |\n| |                    4: 'Client error',                                   | |\n| |                    5: 'Server error'                                    | |\n| |                }                                                        | |\n| |      message = \"Client error '403 Forbidden' for url                    | |\n| |                'http://127.0.0.1:8008/jobs/job_0/results'\\n\"+88         | |\n| |      request = &lt;Request('GET',                                          | |\n| |                'http://127.0.0.1:8008/jobs/job_0/results')&gt;             | |\n| |         self = &lt;Response [403 Forbidden]&gt;                               | |\n| | status_class = 4                                                        | |\n| +-------------------------------------------------------------------------+ |\n+-----------------------------------------------------------------------------+\nHTTPStatusError: Client error '403 Forbidden' for url \n'http://127.0.0.1:8008/jobs/job_0/results'\nFor more information check: \nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403\n\nThe above exception was the direct cause of the following exception:\n\n+--------------------- Traceback (most recent call last) ---------------------+\n| C:\\Users\\Norman\\Projects\\eozilla\\cuiman\\src\\cuiman\\cli\\cli.py:370 in        |\n| get_job_results                                                             |\n|                                                                             |\n|   367         from .output import get_renderer, output                      |\n|   368                                                                       |\n|   369         with use_client(ctx, config_file) as client:                  |\n| &gt; 370             job_results = client.get_job_results(job_id)              |\n|   371         output(get_renderer(output_format).render_job_results(job_res |\n|   372                                                                       |\n|   373     return t                                                          |\n|                                                                             |\n| +-------------------------------- locals ---------------------------------+ |\n| |        client = &lt;cuiman.api.client.Client object at 0x00000216E15DD7F0&gt; | |\n| |   config_file = None                                                    | |\n| |           ctx = &lt;click.core.Context object at 0x00000216E15F5450&gt;       | |\n| |        job_id = 'job_0'                                                 | |\n| | output_format = &lt;OutputFormat.yaml: 'yaml'&gt;                             | |\n| +-------------------------------------------------------------------------+ |\n|                                                                             |\n| C:\\Users\\Norman\\Projects\\eozilla\\cuiman\\src\\cuiman\\api\\client.py:378 in     |\n| get_job_results                                                             |\n|                                                                             |\n|   375             - `404`: The requested URI was not found.                 |\n|   376             - `500`: A server error occurred.                         |\n|   377         \"\"\"                                                           |\n| &gt; 378         return self._transport.call(                                  |\n|   379             TransportArgs(                                            |\n|   380                 path=\"/jobs/{jobId}/results\",                         |\n|   381                 method=\"get\",                                         |\n|                                                                             |\n| +----------------------------- locals -----------------------------+        |\n| | job_id = 'job_0'                                                 |        |\n| | kwargs = {}                                                      |        |\n| |   self = &lt;cuiman.api.client.Client object at 0x00000216E15DD7F0&gt; |        |\n| +------------------------------------------------------------------+        |\n|                                                                             |\n| C:\\Users\\Norman\\Projects\\eozilla\\cuiman\\src\\cuiman\\api\\transport\\httpx.py:3 |\n| 9 in call                                                                   |\n|                                                                             |\n|   36             response = self.sync_httpx.request(*args_, **kwargs_)      |\n|   37         except httpx.HTTPError as e:                                   |\n|   38             raise TransportError(f\"{e}\") from e                        |\n| &gt; 39         return self._process_response(args, response)                  |\n|   40                                                                        |\n|   41     async def async_call(self, args: TransportArgs) -&gt; Any:            |\n|   42         if self.async_httpx is None:                                   |\n|                                                                             |\n| +-------------------------------- locals ---------------------------------+ |\n| |     args = TransportArgs(                                               | |\n| |                path='/jobs/{jobId}/results',                            | |\n| |                method='get',                                            | |\n| |                path_params={'jobId': 'job_0'},                          | |\n| |                query_params={},                                         | |\n| |                request=None,                                            | |\n| |                return_types={                                           | |\n| |                    '200': &lt;class 'gavicore.models.JobResults'&gt;          | |\n| |                },                                                       | |\n| |                error_types={                                            | |\n| |                    '404': &lt;class 'gavicore.models.ApiError'&gt;,           | |\n| |                    '500': &lt;class 'gavicore.models.ApiError'&gt;            | |\n| |                },                                                       | |\n| |                extra_kwargs={}                                          | |\n| |            )                                                            | |\n| |    args_ = ('GET', 'http://127.0.0.1:8008/jobs/job_0/results')          | |\n| |  kwargs_ = {'params': {}, 'json': None}                                 | |\n| | response = &lt;Response [403 Forbidden]&gt;                                   | |\n| |     self = &lt;cuiman.api.transport.httpx.HttpxTransport object at         | |\n| |            0x00000216E15DDFD0&gt;                                          | |\n| +-------------------------------------------------------------------------+ |\n|                                                                             |\n| C:\\Users\\Norman\\Projects\\eozilla\\cuiman\\src\\cuiman\\api\\transport\\httpx.py:8 |\n| 1 in _process_response                                                      |\n|                                                                             |\n|   78             response.raise_for_status()                                |\n|   79             return args.get_response_for_status(response.status_code,  |\n|   80         except httpx.HTTPError as e:                                   |\n| &gt; 81             raise args.get_exception_for_status(                       |\n|   82                 response.status_code, f\"{e}\", response_json            |\n|   83             ) from e                                                   |\n|   84                                                                        |\n|                                                                             |\n| +-------------------------------- locals ---------------------------------+ |\n| |          args = TransportArgs(                                          | |\n| |                     path='/jobs/{jobId}/results',                       | |\n| |                     method='get',                                       | |\n| |                     path_params={'jobId': 'job_0'},                     | |\n| |                     query_params={},                                    | |\n| |                     request=None,                                       | |\n| |                     return_types={                                      | |\n| |                         '200': &lt;class 'gavicore.models.JobResults'&gt;     | |\n| |                     },                                                  | |\n| |                     error_types={                                       | |\n| |                         '404': &lt;class 'gavicore.models.ApiError'&gt;,      | |\n| |                         '500': &lt;class 'gavicore.models.ApiError'&gt;       | |\n| |                     },                                                  | |\n| |                     extra_kwargs={}                                     | |\n| |                 )                                                       | |\n| |      response = &lt;Response [403 Forbidden]&gt;                              | |\n| | response_json = {                                                       | |\n| |                     'type': 'ApiError',                                 | |\n| |                     'title': 'Forbidden',                               | |\n| |                     'status': 403,                                      | |\n| |                     'detail': \"Job 'job_0' has been cancelled\"          | |\n| |                 }                                                       | |\n| |          self = &lt;cuiman.api.transport.httpx.HttpxTransport object at    | |\n| |                 0x00000216E15DDFD0&gt;                                     | |\n| +-------------------------------------------------------------------------+ |\n+-----------------------------------------------------------------------------+\nClientError: Client error '403 Forbidden' for url \n'http://127.0.0.1:8008/jobs/job_0/results'\nFor more information check: \nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403 (status 403)\n\nDuring handling of the above exception, another exception occurred:\n\n+--------------------- Traceback (most recent call last) ---------------------+\n| C:\\Users\\Norman\\Projects\\eozilla\\cuiman\\src\\cuiman\\cli\\cli.py:369 in        |\n| get_job_results                                                             |\n|                                                                             |\n|   366         from .client import use_client                                |\n|   367         from .output import get_renderer, output                      |\n|   368                                                                       |\n| &gt; 369         with use_client(ctx, config_file) as client:                  |\n|   370             job_results = client.get_job_results(job_id)              |\n|   371         output(get_renderer(output_format).render_job_results(job_res |\n|   372                                                                       |\n|                                                                             |\n| +-------------------------------- locals ---------------------------------+ |\n| |        client = &lt;cuiman.api.client.Client object at 0x00000216E15DD7F0&gt; | |\n| |   config_file = None                                                    | |\n| |           ctx = &lt;click.core.Context object at 0x00000216E15F5450&gt;       | |\n| |        job_id = 'job_0'                                                 | |\n| | output_format = &lt;OutputFormat.yaml: 'yaml'&gt;                             | |\n| +-------------------------------------------------------------------------+ |\n|                                                                             |\n| C:\\Users\\Norman\\Projects\\eozilla\\cuiman\\src\\cuiman\\cli\\client.py:61 in      |\n| __exit__                                                                    |\n|                                                                             |\n|   58             if api_error.traceback and show_traceback:                 |\n|   59                 message_lines.append(\"  traceback:\")                   |\n|   60                 message_lines.extend(api_error.traceback)              |\n| &gt; 61             typer.echo(\"\\n\".join(message_lines))                       |\n|   62             if not show_traceback:                                     |\n|   63                 raise typer.Exit(code=2)                               |\n|   64         elif isinstance(exc_value, TransportError):                    |\n|                                                                             |\n| +-------------------------------- locals ---------------------------------+ |\n| |      api_error = ApiError(                                              | |\n| |                      type='ApiError',                                   | |\n| |                      title='Forbidden',                                 | |\n| |                      status=403,                                        | |\n| |                      detail=\"Job 'job_0' has been cancelled\",           | |\n| |                      instance=None,                                     | |\n| |                      traceback=None                                     | |\n| |                  )                                                      | |\n| |   client_error = ClientError(\"Client error '403 Forbidden' for url      | |\n| |                  'http://127.0.0.1:8008/jobs/job_0/results'\\nFor more   | |\n| |                  information check:                                     | |\n| |                  https://developer.mozilla.org/en-US/docs/Web/HTTP/Sta\u2026 | |\n| |                  (status 403)\")                                         | |\n| |         exc_tb = &lt;traceback object at 0x00000216E1880440&gt;               | |\n| |      exc_value = ClientError(\"Client error '403 Forbidden' for url      | |\n| |                  'http://127.0.0.1:8008/jobs/job_0/results'\\nFor more   | |\n| |                  information check:                                     | |\n| |                  https://developer.mozilla.org/en-US/docs/Web/HTTP/Sta\u2026 | |\n| |                  (status 403)\")                                         | |\n| |  message_lines = [                                                      | |\n| |                      \"\\u274c Error: Client error '403 Forbidden' for url    | |\n| |                  'http://127.0.0.1:8008/jobs/job_0/\"+110,               | |\n| |                      'Server-side error details:',                      | |\n| |                      '  title:  Forbidden',                             | |\n| |                      '  status: 403',                                   | |\n| |                      '  type:   ApiError',                              | |\n| |                      \"  detail: Job 'job_0' has been cancelled\"         | |\n| |                  ]                                                      | |\n| |           self = &lt;cuiman.cli.client.UseClient object at                 | |\n| |                  0x00000216E15DD6A0&gt;                                    | |\n| | show_traceback = False                                                  | |\n| +-------------------------------------------------------------------------+ |\n|                                                                             |\n| C:\\Users\\Norman\\Projects\\s2gos-controller\\.pixi\\envs\\default\\Lib\\site-packa |\n| ges\\click\\utils.py:321 in echo                                              |\n|                                                                             |\n| C:\\Users\\Norman\\Projects\\s2gos-controller\\.pixi\\envs\\default\\Lib\\encodings\\ |\n| cp1252.py:19 in encode                                                      |\n|                                                                             |\n|    16                                                                       |\n|    17 class IncrementalEncoder(codecs.IncrementalEncoder):                  |\n|    18     def encode(self, input, final=False):                             |\n| &gt;  19         return codecs.charmap_encode(input,self.errors,encoding_table |\n|    20                                                                       |\n|    21 class IncrementalDecoder(codecs.IncrementalDecoder):                  |\n|    22     def decode(self, input, final=False):                             |\n|                                                                             |\n| +-------------------------------- locals ---------------------------------+ |\n| | final = False                                                           | |\n| | input = \"\\u274c Error: Client error '403 Forbidden' for url                 | |\n| |         'http://127.0.0.1:8008/jobs/job_0/\"+239                         | |\n| |  self = &lt;encodings.cp1252.IncrementalEncoder object at                  | |\n| |         0x00000216DB854AD0&gt;                                             | |\n| +-------------------------------------------------------------------------+ |\n+-----------------------------------------------------------------------------+\nUnicodeEncodeError: 'charmap' codec can't encode character '\\u274c' in position\n0: character maps to &lt;undefined&gt;\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"notebooks/client-cli/#cli-usage","title":"CLI usage\u00b6","text":"<p>Similar to the Python API client, the CLI client provides the following capabilities:</p> <ul> <li><code>s2gos-client list-processes</code>: list existing processes,</li> <li><code>s2gos-client get-process</code>: get the details about a process,</li> <li><code>s2gos-client validate-request</code>: validate a given process execution request,</li> <li><code>s2gos-client execute-process</code>: execute a given process execution request,</li> <li><code>s2gos-client list-jobs</code>: list the jobs resulting from process executions, and finally</li> <li><code>s2gos-client get-job</code>: get a job's details,</li> <li><code>s2gos-client get-job-results</code>: get a successful job's results, and finally</li> <li><code>s2gos-client dismiss-job</code>: cancel a successful job.</li> </ul> <p>In the following, we visit all the features by example.</p> <p>The client expects a running server that conforms to the OGC API - Process: Part 1, Version 1.0. If you don't have one available, you can also run the project's server with a test configuration:</p> <pre>s2gos-server run -- wraptile.services.local.testing:service\n</pre>"},{"location":"notebooks/client-gui/","title":"GUI usage","text":"In\u00a0[1]: Copied! <pre>from s2gos_client.gui import Client\n</pre> from s2gos_client.gui import Client In\u00a0[2]: Copied! <pre>client = Client()\nclient\n</pre> client = Client() client Out[2]: <pre><code>{\n  \"access_token\": \"1234\",\n  \"server_url\": \"http://127.0.0.1:8008\",\n  \"user_name\": \"bibo\"\n}</code></pre> In\u00a0[3]: Copied! <pre>client.get_processes()\n</pre> client.get_processes() Out[3]: <pre><code>{\n  \"links\": [\n    {\n      \"href\": \"http://127.0.0.1:8008/processes\",\n      \"hreflang\": \"en\",\n      \"rel\": \"self\",\n      \"title\": \"get_processes\",\n      \"type\": \"application/json\"\n    }\n  ],\n  \"processes\": [\n    {\n      \"description\": \"Sleeps for `duration` seconds. Fails on purpose if `fail` is `True`. Returns the effective amount of sleep in seconds.\",\n      \"id\": \"sleep_a_while\",\n      \"title\": \"Sleep Processor\",\n      \"version\": \"0.0.0\"\n    },\n    {\n      \"description\": \"Returns the list of prime numbers between a `min_val` and `max_val`.\",\n      \"id\": \"primes_between\",\n      \"title\": \"Prime Processor\",\n      \"version\": \"0.0.0\"\n    },\n    {\n      \"description\": \"Simulate a set scene images slices for testing. Creates an xarray dataset with `periodicity` time slices and writes it as Zarr into a temporary location. Requires installed `dask`, `xarray`, and `zarr` packages.\",\n      \"id\": \"simulate_scene\",\n      \"title\": \"Generate scene for testing\",\n      \"version\": \"0.0.0\"\n    },\n    {\n      \"id\": \"return_base_model\",\n      \"title\": \"BaseModel Test\",\n      \"version\": \"0.0.0\"\n    }\n  ]\n}</code></pre> In\u00a0[4]: Copied! <pre>client.get_process(\"sleep_a_while\")\n</pre> client.get_process(\"sleep_a_while\") Out[4]: <pre><code>{\n  \"description\": \"Sleeps for `duration` seconds. Fails on purpose if `fail` is `True`. Returns the effective amount of sleep in seconds.\",\n  \"id\": \"sleep_a_while\",\n  \"inputs\": {\n    \"duration\": {\n      \"minOccurs\": 0,\n      \"schema\": {\n        \"default\": 10,\n        \"type\": \"number\"\n      },\n      \"title\": \"Duration\"\n    },\n    \"fail\": {\n      \"minOccurs\": 0,\n      \"schema\": {\n        \"default\": false,\n        \"type\": \"boolean\"\n      },\n      \"title\": \"Fail\"\n    }\n  },\n  \"outputs\": {\n    \"return_value\": {\n      \"schema\": {\n        \"type\": \"number\"\n      },\n      \"title\": \"Return Value\"\n    }\n  },\n  \"title\": \"Sleep Processor\",\n  \"version\": \"0.0.0\"\n}</code></pre> In\u00a0[5]: Copied! <pre>client.show()\n</pre> client.show() Out[5]: In\u00a0[8]: Copied! <pre>_request\n</pre> _request Out[8]: <pre><code>{\n  \"dotpath\": true,\n  \"inputs\": {\n    \"bbox\": [\n      -4.45605,\n      44.301055,\n      23.66895,\n      56.915603\n    ],\n    \"end_date\": \"2025-02-01\",\n    \"output_path\": \"test.zarr\",\n    \"periodicity\": 2,\n    \"resolution\": 0.5,\n    \"start_date\": \"2025-01-01\",\n    \"var_names\": \"a, b, c\"\n  },\n  \"process_id\": \"simulate_scene\"\n}</code></pre> In\u00a0[\u00a0]: Copied! <pre># client.stop_updating()\n</pre> # client.stop_updating() In\u00a0[7]: Copied! <pre>client.show_jobs()\n</pre> client.show_jobs() Out[7]: In\u00a0[9]: Copied! <pre>client.show_job(\"job_3\")\n</pre> client.show_job(\"job_3\") Out[9]: In\u00a0[11]: Copied! <pre>_results\n</pre> _results Out[11]: <pre><code>{\n  \"return_value\": {\n    \"href\": \"file:///C:/Users/Norman/Projects/s2gos-controller/notebooks/test.zarr\",\n    \"hreflang\": null,\n    \"rel\": null,\n    \"title\": null,\n    \"type\": \"application/zarr\"\n  }\n}</code></pre> In\u00a0[12]: Copied! <pre>import xarray as xr\nxr.open_dataset(_results[\"return_value\"][\"href\"])\n</pre> import xarray as xr xr.open_dataset(_results[\"return_value\"][\"href\"]) Out[12]: <pre>&lt;xarray.Dataset&gt; Size: 538kB\nDimensions:  (time: 16, lat: 25, lon: 56)\nCoordinates:\n  * lon      (lon) float64 448B -4.206 -3.704 -3.202 ... 22.41 22.92 23.42\n  * lat      (lat) float64 200B 44.55 45.06 45.56 46.07 ... 55.66 56.16 56.67\n  * time     (time) datetime64[ns] 128B 2025-01-01 2025-01-02 ... 2025-01-16\nData variables:\n    a        (time, lat, lon) float64 179kB ...\n    c        (time, lat, lon) float64 179kB ...\n    b        (time, lat, lon) float64 179kB ...</pre>xarray.Dataset<ul><li>Dimensions:<ul><li>time: 16</li><li>lat: 25</li><li>lon: 56</li></ul></li><li>Coordinates: (3)<ul><li>lon(lon)float64-4.206 -3.704 ... 22.92 23.42<pre>array([-4.20605 , -3.703777, -3.201505, -2.699232, -2.196959, -1.694686,\n       -1.192414, -0.690141, -0.187868,  0.314405,  0.816677,  1.31895 ,\n        1.821223,  2.323495,  2.825768,  3.328041,  3.830314,  4.332586,\n        4.834859,  5.337132,  5.839405,  6.341677,  6.84395 ,  7.346223,\n        7.848495,  8.350768,  8.853041,  9.355314,  9.857586, 10.359859,\n       10.862132, 11.364405, 11.866677, 12.36895 , 12.871223, 13.373495,\n       13.875768, 14.378041, 14.880314, 15.382586, 15.884859, 16.387132,\n       16.889405, 17.391677, 17.89395 , 18.396223, 18.898495, 19.400768,\n       19.903041, 20.405314, 20.907586, 21.409859, 21.912132, 22.414405,\n       22.916677, 23.41895 ])</pre></li><li>lat(lat)float6444.55 45.06 45.56 ... 56.16 56.67<pre>array([44.551055, 45.055828, 45.560601, 46.065373, 46.570146, 47.074919,\n       47.579692, 48.084465, 48.589238, 49.09401 , 49.598783, 50.103556,\n       50.608329, 51.113102, 51.617875, 52.122647, 52.62742 , 53.132193,\n       53.636966, 54.141739, 54.646512, 55.151284, 55.656057, 56.16083 ,\n       56.665603])</pre></li><li>time(time)datetime64[ns]2025-01-01 ... 2025-01-16<pre>array(['2025-01-01T00:00:00.000000000', '2025-01-02T00:00:00.000000000',\n       '2025-01-03T00:00:00.000000000', '2025-01-04T00:00:00.000000000',\n       '2025-01-05T00:00:00.000000000', '2025-01-06T00:00:00.000000000',\n       '2025-01-07T00:00:00.000000000', '2025-01-08T00:00:00.000000000',\n       '2025-01-09T00:00:00.000000000', '2025-01-10T00:00:00.000000000',\n       '2025-01-11T00:00:00.000000000', '2025-01-12T00:00:00.000000000',\n       '2025-01-13T00:00:00.000000000', '2025-01-14T00:00:00.000000000',\n       '2025-01-15T00:00:00.000000000', '2025-01-16T00:00:00.000000000'],\n      dtype='datetime64[ns]')</pre></li></ul></li><li>Data variables: (3)<ul><li>a(time, lat, lon)float64...<pre>[22400 values with dtype=float64]</pre></li><li>c(time, lat, lon)float64...<pre>[22400 values with dtype=float64]</pre></li><li>b(time, lat, lon)float64...<pre>[22400 values with dtype=float64]</pre></li></ul></li><li>Indexes: (3)<ul><li>lonPandasIndex<pre>PandasIndex(Index([            -4.20605,   -3.703777272727273,  -3.2015045454545454,\n        -2.6992318181818185,   -2.196959090909091,  -1.6946863636363636,\n        -1.1924136363636366,  -0.6901409090909092, -0.18786818181818177,\n         0.3144045454545452,   0.8166772727272731,              1.31895,\n          1.821222727272727,    2.323495454545455,    2.825768181818182,\n         3.3280409090909098,   3.8303136363636368,    4.332586363636364,\n          4.834859090909091,   5.3371318181818195,   5.8394045454545465,\n          6.341677272727273,              6.84395,    7.346222727272727,\n          7.848495454545454,    8.350768181818182,    8.853040909090911,\n          9.355313636363636,    9.857586363636365,    10.35985909090909,\n         10.862131818181819,   11.364404545454548,   11.866677272727273,\n         12.368950000000002,   12.871222727272727,   13.373495454545456,\n          13.87576818181818,    14.37804090909091,   14.880313636363638,\n         15.382586363636364,   15.884859090909092,   16.387131818181818,\n         16.889404545454546,   17.391677272727275,             17.89395,\n          18.39622272727273,   18.898495454545454,   19.400768181818183,\n         19.903040909090908,   20.405313636363637,   20.907586363636366,\n          21.40985909090909,    21.91213181818182,   22.414404545454545,\n         22.916677272727274,             23.41895],\n      dtype='float64', name='lon'))</pre></li><li>latPandasIndex<pre>PandasIndex(Index([         44.551055,  45.05582783333333, 45.560600666666666,\n               46.0653735, 46.570146333333334,  47.07491916666667,\n       47.579691999999994,  48.08446483333333,  48.58923766666666,\n       49.094010499999996,  49.59878333333333, 50.103556166666664,\n                50.608329,  51.11310183333333, 51.617874666666665,\n               52.1226475,  52.62742033333333,  53.13219316666667,\n                53.636966, 54.141738833333335,  54.64651166666667,\n       55.151284499999996,  55.65605733333333,  56.16083016666666,\n                56.665603],\n      dtype='float64', name='lat'))</pre></li><li>timePandasIndex<pre>PandasIndex(DatetimeIndex(['2025-01-01', '2025-01-02', '2025-01-03', '2025-01-04',\n               '2025-01-05', '2025-01-06', '2025-01-07', '2025-01-08',\n               '2025-01-09', '2025-01-10', '2025-01-11', '2025-01-12',\n               '2025-01-13', '2025-01-14', '2025-01-15', '2025-01-16'],\n              dtype='datetime64[ns]', name='time', freq=None))</pre></li></ul></li><li>Attributes: (0)</li></ul> In\u00a0[\u00a0]: Copied! <pre>#client.get_process(\"create_datacube\")\n</pre> #client.get_process(\"create_datacube\") In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"notebooks/client-gui/#gui-usage","title":"GUI usage\u00b6","text":"<p>The GUI client extends the Python API client by adding dedicated GUI-widgets for specific features:</p> <ul> <li><code>client.show()</code>: execute a given process execution request,</li> <li><code>client.show_jobs()</code>: show all jobs resulting from process execution,</li> <li><code>client.show_job()</code>: show the details of a specific job.</li> </ul> <p>Apart from that, they share the same interface. In the following, we visit all the features by example.</p> <p>The client expects a running server that conforms to the OGC API - Process: Part 1, Version 1.0. If you don't have one available, you can also run the project's server with a test configuration:</p> <pre>s2gos-server run -- wraptile.services.local.testing:service\n</pre>"}]}